@startuml clases

hide empty members
skinparam linetype polyline
skinparam arrowLollipopColor #ADD1B2

MainView -right(0- MainPresenter : IMainContract.Presenter
MainView -right0)- MainPresenter : IMainContract.View
MainView -up..-> InfoView : <<use>>
MainView -down..> DetailsView : <<use>>
MainPresenter -right(0- GasolinerasRepository : IGasolinerasRepository

Filtros -down0)- MainPresenter : IFiltros


class MainPresenter {
    -load()
    -getPrecioCombustible(Gasolinera gasolinera, Combustible combustible)
}
class Filtros {

     - esCompanhiaConocida(String companhia): boolean

}

interface IMainContract#View {
    + init()
    + getGasolinerasRepository() : IGasolinerasRepository
    + showStations(List<Gasolinera> stations)
    + showLoadCorrect(int stations)
    + showLoadError()
    + showStationDetails(Gasolinera station)
    + showInfoActivity()
    + showFiltersPopUp()
    + showOrdenarPopUp()
}

interface IFiltros {
    + filtrarPorProvinciaYMunicipio(List<Gasolinera> gasolineras,String provincia, String municipio):List<Gasolinera>
    + filtrarPorEstado(List<Gasolinera> gasolineras):List<Gasolinera>
    + filtrarPorCompanhia(List<Gasolinera> gasolineras, String companhia):List<Gasolinera>
}

interface IMainContract#Presenter {
    + init(IMainContract.View view)
    + onStationClicked(Gasolinera station)
    + onMenuInfoClicked()
    + onFilterButtonClicked()
    + onSearchStationsWithFilters(String provincia, String municipio,boolean abierto,String companhia)
 
}

interface IGasolinerasRepository {
    + requestGasolineras(ICallBack cb)
}

interface ICallBack {
    + onSuccess(List<Gasolinera> gasolineras)
    + onFailure(Throwable e)
}


@enduml